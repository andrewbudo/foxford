# foxford
## Практикум по программированию: подготовка к окружному этапу олимпиады ##
### Ответ ###
Посмотрите как будет выглядеть требуемая строка. Если все строки имели сначала несколько букв a, потом несколько букв b, потом несколько букв a, то и требуемая будет выглядеть также. 

Если же не все строки выглядели одинаково, то ответ Impossible.

Количество каждых букв в итоговой строке будет равно среднему из количества таких букв в данных строках.

 

def mid(a, b, c):

    return a + b + c - max(a, b, c) - min(a, b, c)

 

s = [input(), input(), input()]

let = ['', '', '']

m = [[], [], []]

for i in range(3):

    let[i] += s[i][0]

    m[i].append(1)

    for j in range(1, len(s[i])):

        if s[i][j] == s[i][j - 1]:

            m[i][-1] += 1

        else:

            let[i] += s[i][j]

            m[i].append(1)

if let[0] != let[1] or let[1] != let[2] or let[0] != let[2]:

    print("IMPOSSIBLE")

    exit()

for i in range(len(m[0])):

    print(let[0][i] * (mid(m[0][i], m[1][i], m[2][i])), end = '')